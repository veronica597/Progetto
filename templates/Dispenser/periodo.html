<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title> Statistics </title>

     <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">  <!-- initial-scale=1, -->

    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">

    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css">
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>



    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
            integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous">
    </script>

    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css">
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>

    <script src="https://code.highcharts.com/highcharts.src.js"></script>
    
    <style>
        table.dataTable thead th {
            border-bottom: 0;
        }
        
/*
        table.dataTable {
            border-collapse: collapse;
        }
*/
/*
        table.dataTable.no-footer {
            border-bottom: 0;
        }
*/
    
    </style>

    <script type="text/javascript">


        $(document).ready(function (){
            console.log("pronti alla get");

            // grafico erogazioni automatiche/utente
            var chart = Highcharts.chart('container1', {
                chart: {
                    type: 'column', // column

                },
                title: {
                    text:''
                },

                // sistemare xAxis

                xAxis: {
                    categories: [({{Inizio|safe}} + " to " + {{Fine|safe}})]
                },

                series: [{
                    name: 'Erogazioni automatiche',
                    color: 'green',
                    data: [{{erogA}}],

                }

                    , {
                        name: 'Erogazioni utente',
                        color: 'orange',
                        data: [{{erogU}}],


                    }
                ],


            });


            // grafico erogazioni/no erogazioni

            var chart = Highcharts.chart('container', {
                chart: {
                    type: 'column', // column

                },
                title: {
                    text: ''
                },

                // sistemare xAxis

                xAxis: {
                    categories: [({{Inizio|safe}} + " to " + {{Fine|safe}})]
                },

                series: [{
                    name: 'Erogazioni',
                    color: '#ff00ff',
                    data: [{{erog}}],

                }

                    , {
                        name: 'No erogazioni',
                        color: '#00bfff',
                        data: [{{noErog}}],

                    }
                ],



            }); // chiude il chart





            // grafico erogazioni giorno/notte
            var chart = Highcharts.chart('container2', {  // se metto container -- quando clicco sparisce l'altro grafico e compare quello per cui ho cliccato
                chart: {
                    type: 'column', // column

                },

                title: {
                    text: ''
                },

                // sistemare xAxis

                xAxis: {
                    categories: [({{Inizio|safe}} + " to " + {{Fine|safe}})]
                },

                series: [{
                    name: 'Erogazioni modalità giorno',
                    color: '#ffd700',
                    data: [{{erogG}}],

                }

                    , {
                        name: 'Erogazioni modalità notte',
                        color: '#4169e1',
                        data: [{{erogN}}],

                    }
                ],



            }); // chiude il chart

            // per tabella smart
            $('#oggi').DataTable({
                "scrollY": "270px",
                "scrollCollapse": true,
                "searching": false, // false to disable search (or any other option)
                //"paging": false,
                //"bInfo": false
                //"info": false
                "fixedHeader": true,
                
            });
            $('.dataTables_length').addClass('bs-select');
            //$('#oggi').("no-footer"); 
    });


    </script>

{#    <script language="JavaScript" type="text/javascript"> // per tasto che mostra tt tabella!#}

    {#function pippo(aDiv1, aDiv2) {#}
    {#    var e= document.getElementById(aDiv1);#}
    {#    var e2= document.getElementById(aDiv2);#}
    {##}
    {#    if (e.style.display=="block"){#}
    {#        e.style.display="none";#}
    {#        e2.style.display="block";#}
    {#    }#}

    {#</script>#}


</head>
<body>


    <a href="http://localhost:8000/" class="go-back" style="color: salmon"> <h3>Home</h3></a>
<!--    <a href="http://192.168.6.86:8000/" class="go-back" style="color: salmon"> <h3>Home</h3></a>-->

<div class="text-center">
    <h1 style="color: salmon">Statistics from {{inizio}} to {{fine}}</h1>
</div>



<div class="container-fluid">
    <div class="row">
        <div class="col-sm-4" id="container"></div>
        <div class="col-sm-4" id="container1"></div>
        <div class="col-sm-4" id="container2"></div>
    </div>
</div>



<!--
<div id="d1" class="row" style="display:block; margin-top: 50px">
    <div class="col-sm-12">
-->
    <div class="table-sm" style="padding:20px">
        <table id="oggi" class="table table-hover table-borderless" cellspacing="0" width="100%">
            <thead>

            <tr id="prova" >
                {#<th>Id</th>#}
                <th>Data</th>   <!-- style="border-bottom: 0" -->
                <th >Erogation</th>
                <th >UserMode</th>
                <th >TimeMode</th>
            </tr>
            </thead>
         
            <tbody>
            {% for riga in righe %}
                <tr id="old">
                    {#<td id="id"> {{riga.id}} </td>#}
                    <td id="date"> {{riga.date}} </td>   <!--   style="border-top: 0; border-bottom: 0"-->
                    <td id="erogation" > {{riga.erogation}} </td>
                    <td id="userMod" > {{riga.userMod}} </td>
                    <td id="timeMod" > {{riga.timeMod}} </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
{#    <div>#}
{#    </div>#}
</div>




</body>
</html>
