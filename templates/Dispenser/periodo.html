<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title> Grafico mese/settimana </title>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
                    integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous">
    </script>
    <script src="https://code.highcharts.com/highcharts.src.js"></script>

    <script type="text/javascript">
        
        
        $(document).ready(function (){
            console.log("pronti alla get");
            
             // grafico erogazioni automatiche/utente
                var chart = Highcharts.chart('container1', {
                    chart: {
                        type: 'column', // column

                    },
                    title: {
                        text: 'Erogazioni ' + {{inizio|safe}} + "/" + {{fine|safe}} + ''
                    },
                    
                    // sistemare xAxis

                    xAxis: {
                        categories: [({{inizio|safe}} + "/" + {{fine|safe}})]
                    },

                    series: [{
                        name: 'Erogazioni automatiche',
                        color: 'green',
                        data: [{{erogA}}],
                        
                    }
                             
                    , {
                        name: 'Erogazioni utente',
                        color: 'orange',
                        data: [{{erogU}}],
                        
                          
                   }
                    ],


                }); 
            
            
            // grafico erogazioni/no erogazioni
        
                var chart = Highcharts.chart('container', {
                    chart: {
                        type: 'column', // column
                    
                    },
                    title: {
                        text: 'Erogazioni periodo'
                    },
                    
                    // sistemare xAxis

                    xAxis: {
                        categories: [({{inizio|safe}} + "/" + {{fine|safe}})]
                    },

                    series: [{
                        name: 'Erogazioni',
                        color: '#ff00ff',
                        data: [{{erog}}],
                             
                    }
                             
                    , {
                        name: 'No erogazioni',
                        color: '#00bfff',
                        data: [{{noErog}}],
                          
                   }
                    ],



                            }); // chiude il chart 
        
        
        
        
        
         // grafico erogazioni giorno/notte 
                var chart = Highcharts.chart('container2', {  // se metto container -- quando clicco sparisce l'altro grafico e compare quello per cui ho cliccato 
                    chart: {
                        type: 'column', // column
                    
                    },
                    
                    title: {
                        text: 'Erogazioni periodo'
                    },
                    
                    // sistemare xAxis

                    xAxis: {
                        categories: [({{inizio|safe}} + "/" + {{fine|safe}})]
                    },

                    series: [{
                        name: 'Erogazioni modalità giorno',
                        color: '#ffd700',
                        data: [{{erogG}}],
                             
                    }
                             
                    , {
                        name: 'Erogazioni modalità notte',
                        color: '#4169e1',
                        data: [{{erogN}}],
                          
                   }
                    ],



                            }); // chiude il chart 
        


        
      
        

        });
    </script>

    
</head>
<body>
    
    <div id="container"></div>
    <div id="container1"></div>
    <div id="container2"></div>
<!--    <button id="button"> Render </button>-->
    
     <table id="oggi">
        <tr id="prova">
            <th>Id</th>
            <th>Data</th>
            <th>Erogation</th>
            <th>UserMode</th>
            <th>TimeMode</th>
        </tr>

        {% for riga in righe %}
        <tr id="old">

            <td id="id"> {{riga.id}} </td>
            <td id="date"> {{riga.date}} </td>
            <td id="erogation"> {{riga.erogation}} </td>
            <td id="userMod"> {{riga.userMod}} </td>
            <td id="timeMod"> {{riga.timeMod}} </td>


        </tr>
        {% endfor %}

    </table>


</body>
</html>
